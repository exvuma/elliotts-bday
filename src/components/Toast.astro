---
interface Props {
  type: 'error' | 'success' | 'info'
  show: boolean
  id?: string
}
const { type, show, id } = Astro.props
---

<div class={`toast toast-${type} ${!show ? 'display-none' : ''}`} id={id}>
  <div class="toast-content"><slot /></div>
  <div class="toast-actions">
    <button class="toast-actions-close">x</button>
  </div>
</div>
<style>
  .toast {
    display: flex;
    width: 100%;
    border-radius: 3px;
    border: solid 1px;
    margin: 1rem 0;
  }

  .toast-content {
    flex: 1;
    padding: 0.5rem 1rem;
    font-size: 0.8rem;
  }

  .toast-success {
    background-color: #cfffe6;
    border-color: #01bb5a;
  }

  .toast-error {
    background-color: #ffb8b8;
    border-color: #c20000;
  }

  .toast-actions-close {
    background-color: transparent;
    border: none;
    cursor: pointer;
    font-size: 1rem;
    margin: 0.1rem;
    padding: 0.25rem;
    color: rgba(0, 0, 0, 0.5);
  }
</style>
<script>
  document.querySelectorAll('.toast').forEach(($toast) => {
    $toast.querySelectorAll('.toast-actions-close').forEach(($close) => {
      $close.addEventListener('click', () => {
        $toast.classList.add('display-none')
      })
    })
  })
</script>
